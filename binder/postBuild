#Download Apache Spark
wget https://www-eu.apache.org/dist/spark/spark-2.4.5/spark-2.4.5-bin-hadoop2.7.tgz
tar -xzf spark-2.4.5-bin-hadoop2.7.tgz

wget https://ftp.fau.de/apache/hadoop/common/hadoop-2.9.2/hadoop-2.9.2.tar.gz
tar -xzf hadoop-2.9.2.tar.gz

#Tidy up
rm spark-2.4.5-bin-hadoop2.7.tgz
rm hadoop-2.9.2.tar.gz

SPARK_HOME=$HOME/spark-2.4.5-bin-hadoop2.7

jupyter toree install --user --spark_home=$SPARK_HOME


#Jupyter server proxy
jupyter serverextension enable --sys-prefix jupyter_server_proxy

#Jupyter widgetsnbextension
jupyter nbextension enable --py widgetsnbextension